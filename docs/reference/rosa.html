<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Response Oriented Sequential Alternation - ROSA — rosa • multiblock</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Response Oriented Sequential Alternation - ROSA — rosa"><meta property="og:description" content="Formula based interface to the ROSA algorithm following the style of the pls package."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">multiblock</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/vignette_A_data.html">A. Data handling</a>
    </li>
    <li>
      <a href="../articles/vignette_B_basic.html">B. Basic analysis</a>
    </li>
    <li>
      <a href="../articles/vignette_C_unsupervised.html">C. Unsupervised multiblock analysis</a>
    </li>
    <li>
      <a href="../articles/vignette_D_asca.html">D. ASCA</a>
    </li>
    <li>
      <a href="../articles/vignette_E_supervised.html">E. Supervised multiblock analysis</a>
    </li>
    <li>
      <a href="../articles/vignette_F_complex.html">F. Complex multiblock analysis</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/khliland/multiblock/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Response Oriented Sequential Alternation - ROSA</h1>
    <small class="dont-index">Source: <a href="https://github.com/khliland/multiblock/blob/HEAD/R/rosa.R" class="external-link"><code>R/rosa.R</code></a></small>
    <div class="hidden name"><code>rosa.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Formula based interface to the ROSA algorithm following the style of the <code>pls</code> package.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rosa</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">ncomp</span>,</span>
<span>  <span class="va">Y.add</span>,</span>
<span>  common.comp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">subset</span>,</span>
<span>  <span class="va">na.action</span>,</span>
<span>  scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  validation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"CV"</span>, <span class="st">"LOO"</span><span class="op">)</span>,</span>
<span>  internal.validation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fixed.block <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  design.block <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  canonical <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>formula</dt>
<dd><p>Model formula accepting a single response (block) and predictor block names separated by + signs.</p></dd>


<dt>ncomp</dt>
<dd><p>The maximum number of ROSA components.</p></dd>


<dt>Y.add</dt>
<dd><p>Optional response(s) available in the data set.</p></dd>


<dt>common.comp</dt>
<dd><p>Automatically create all combinations of common components up to length <code>common.comp</code> (default = 1).</p></dd>


<dt>data</dt>
<dd><p>The data set to analyse.</p></dd>


<dt>subset</dt>
<dd><p>Expression for subsetting the data before modelling.</p></dd>


<dt>na.action</dt>
<dd><p>How to handle NAs (no action implemented).</p></dd>


<dt>scale</dt>
<dd><p>Optionally scale predictor variables by their individual standard deviations.</p></dd>


<dt>weights</dt>
<dd><p>Optional object weights.</p></dd>


<dt>validation</dt>
<dd><p>Optional cross-validation strategy "CV" or "LOO".</p></dd>


<dt>internal.validation</dt>
<dd><p>Optional cross-validation for block selection process, "LOO", "CV3", "CV5", "CV10" (CV-number of segments), or vector of integers (default = FALSE).</p></dd>


<dt>fixed.block</dt>
<dd><p>integer vector with block numbers for each component (0 = not fixed) or list of length &lt;= ncomp (element length 0 = not fixed).</p></dd>


<dt>design.block</dt>
<dd><p>integer vector containing block numbers of design blocks</p></dd>


<dt>canonical</dt>
<dd><p>logical indicating if canonical correlation should be use when calculating loading weights (default), enabling B/W maximization, common components, etc. Alternatively (FALSE) a PLS2 strategy, e.g. for spectra response, is used.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments for <code>cvseg</code> or <code>rosa.fit</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of classes <code>rosa</code> and <code>mvr</code> having several associated printing (<code><a href="rosa_results.html">rosa_results</a></code>) and plotting methods (<code><a href="rosa_plots.html">rosa_plots</a></code>).</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>ROSA is an opportunistic method sequentially selecting components from whichever block explains
the response most effectively. It can be formulated as a PLS model on concatenated input block with block
selection per component. This implementation adds several options that are not described in the literature.
Most importantly, it opens for internal validation in the block selection process, making this more
robust. In addition it handles design blocks explicitly, enables classification and secondary responses (CPLS),
and definition of common components.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Liland, K.H., Næs, T., and Indahl, U.G. (2016). ROSA - a fast extension of partial least squares regression for multiblock data analysis. Journal of Chemometrics, 30, 651–662, doi:10.1002/cem.2824.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Overviews of available methods, <code><a href="multiblock.html">multiblock</a></code>, and methods organised by main structure: <code><a href="basic.html">basic</a></code>, <code><a href="unsupervised.html">unsupervised</a></code>, <code><a href="asca.html">asca</a></code>, <code><a href="supervised.html">supervised</a></code> and <code><a href="complex.html">complex</a></code>.
Common functions for computation and extraction of results and plotting are found in <code><a href="rosa_results.html">rosa_results</a></code> and <code><a href="rosa_plots.html">rosa_plots</a></code>, respectively.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">potato</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">rosa</span><span class="op">(</span><span class="va">Sensory</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">potato</span>, ncomp <span class="op">=</span> <span class="fl">10</span>, validation <span class="op">=</span> <span class="st">"CV"</span>, segments <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data: 	X dimension: 26 3946 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Y dimension: 26 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fit method:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of components considered: 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> VALIDATION: RMSEP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cross-validated using 5 random segments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        (Intercept)  1 comps  2 comps  3 comps  4 comps  5 comps  6 comps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CV           1.778    1.091   0.9672   0.7892   0.6965   0.6399   0.6638</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> adjCV        1.778    1.041   0.9124   0.7271   0.6310   0.5871   0.6106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        7 comps  8 comps  9 comps  10 comps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CV      0.7149   0.7323   0.8047    0.8811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> adjCV   0.6543   0.6690   0.7299    0.7985</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRAINING: % variance explained</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               1 comps  2 comps  3 comps  4 comps  5 comps  6 comps  7 comps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X               27.82    40.72    47.95    49.48    53.96    55.28    57.79</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sensory[, 1]    76.54    86.77    94.07    96.47    97.03    97.49    97.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               8 comps  9 comps  10 comps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X               65.49    67.14     68.16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sensory[, 1]    98.03    98.28     98.51</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For examples of ROSA results and plotting see </span></span></span>
<span class="r-in"><span><span class="co"># ?rosa_results and ?rosa_plots.</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kristian Hovde Liland.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

