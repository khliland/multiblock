<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Response Oriented Sequential Alternation - ROSA — rosa • multiblock</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Response Oriented Sequential Alternation - ROSA — rosa"><meta name="description" content="Formula based interface to the ROSA algorithm following the style of the pls package."><meta property="og:description" content="Formula based interface to the ROSA algorithm following the style of the pls package."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">multiblock</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/vignette_A_data.html">A. Data handling</a></li>
    <li><a class="dropdown-item" href="../articles/vignette_B_basic.html">B. Basic analysis</a></li>
    <li><a class="dropdown-item" href="../articles/vignette_C_unsupervised.html">C. Unsupervised multiblock analysis</a></li>
    <li><a class="dropdown-item" href="../articles/vignette_D_asca.html">D. ASCA</a></li>
    <li><a class="dropdown-item" href="../articles/vignette_E_supervised.html">E. Supervised multiblock analysis</a></li>
    <li><a class="dropdown-item" href="../articles/vignette_F_complex.html">F. Complex multiblock analysis</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/khliland/multiblock/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Response Oriented Sequential Alternation - ROSA</h1>
      <small class="dont-index">Source: <a href="https://github.com/khliland/multiblock/blob/HEAD/R/rosa.R" class="external-link"><code>R/rosa.R</code></a></small>
      <div class="d-none name"><code>rosa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Formula based interface to the ROSA algorithm following the style of the <code>pls</code> package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rosa</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">ncomp</span>,</span>
<span>  <span class="va">Y.add</span>,</span>
<span>  common.comp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">subset</span>,</span>
<span>  <span class="va">na.action</span>,</span>
<span>  scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  validation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"CV"</span>, <span class="st">"LOO"</span><span class="op">)</span>,</span>
<span>  internal.validation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fixed.block <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  design.block <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  canonical <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>Model formula accepting a single response (block) and predictor block names separated by + signs.</p></dd>


<dt id="arg-ncomp">ncomp<a class="anchor" aria-label="anchor" href="#arg-ncomp"></a></dt>
<dd><p>The maximum number of ROSA components.</p></dd>


<dt id="arg-y-add">Y.add<a class="anchor" aria-label="anchor" href="#arg-y-add"></a></dt>
<dd><p>Optional response(s) available in the data set.</p></dd>


<dt id="arg-common-comp">common.comp<a class="anchor" aria-label="anchor" href="#arg-common-comp"></a></dt>
<dd><p>Automatically create all combinations of common components up to length <code>common.comp</code> (default = 1).</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The data set to analyse.</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>Expression for subsetting the data before modelling.</p></dd>


<dt id="arg-na-action">na.action<a class="anchor" aria-label="anchor" href="#arg-na-action"></a></dt>
<dd><p>How to handle NAs (no action implemented).</p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>Optionally scale predictor variables by their individual standard deviations.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>Optional object weights.</p></dd>


<dt id="arg-validation">validation<a class="anchor" aria-label="anchor" href="#arg-validation"></a></dt>
<dd><p>Optional cross-validation strategy "CV" or "LOO".</p></dd>


<dt id="arg-internal-validation">internal.validation<a class="anchor" aria-label="anchor" href="#arg-internal-validation"></a></dt>
<dd><p>Optional cross-validation for block selection process, "LOO", "CV3", "CV5", "CV10" (CV-number of segments), or vector of integers (default = FALSE).</p></dd>


<dt id="arg-fixed-block">fixed.block<a class="anchor" aria-label="anchor" href="#arg-fixed-block"></a></dt>
<dd><p>integer vector with block numbers for each component (0 = not fixed) or list of length &lt;= ncomp (element length 0 = not fixed).</p></dd>


<dt id="arg-design-block">design.block<a class="anchor" aria-label="anchor" href="#arg-design-block"></a></dt>
<dd><p>integer vector containing block numbers of design blocks</p></dd>


<dt id="arg-canonical">canonical<a class="anchor" aria-label="anchor" href="#arg-canonical"></a></dt>
<dd><p>logical indicating if canonical correlation should be use when calculating loading weights (default), enabling B/W maximization, common components, etc. Alternatively (FALSE) a PLS2 strategy, e.g. for spectra response, is used.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments for <code>cvseg</code> or <code>rosa.fit</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of classes <code>rosa</code> and <code>mvr</code> having several associated printing (<code><a href="rosa_results.html">rosa_results</a></code>) and plotting methods (<code><a href="rosa_plots.html">rosa_plots</a></code>).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>ROSA is an opportunistic method sequentially selecting components from whichever block explains
the response most effectively. It can be formulated as a PLS model on concatenated input block with block
selection per component. This implementation adds several options that are not described in the literature.
Most importantly, it opens for internal validation in the block selection process, making this more
robust. In addition it handles design blocks explicitly, enables classification and secondary responses (CPLS),
and definition of common components.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Liland, K.H., Næs, T., and Indahl, U.G. (2016). ROSA - a fast extension of partial least squares regression for multiblock data analysis. Journal of Chemometrics, 30, 651–662, doi:10.1002/cem.2824.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Overviews of available methods, <code><a href="multiblock.html">multiblock</a></code>, and methods organised by main structure: <code><a href="basic.html">basic</a></code>, <code><a href="unsupervised.html">unsupervised</a></code>, <code><a href="https://khliland.github.io/HDANOVA/reference/asca.html" class="external-link">asca</a></code>, <code><a href="supervised.html">supervised</a></code> and <code><a href="complex.html">complex</a></code>.
Common functions for computation and extraction of results and plotting are found in <code><a href="rosa_results.html">rosa_results</a></code> and <code><a href="rosa_plots.html">rosa_plots</a></code>, respectively.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">potato</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">rosa</span><span class="op">(</span><span class="va">Sensory</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">potato</span>, ncomp <span class="op">=</span> <span class="fl">10</span>, validation <span class="op">=</span> <span class="st">"CV"</span>, segments <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data: 	X dimension: 26 3946 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Y dimension: 26 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fit method:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of components considered: 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> VALIDATION: RMSEP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cross-validated using 5 random segments.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        (Intercept)  1 comps  2 comps  3 comps  4 comps  5 comps  6 comps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CV           1.778   1.0003    0.869   0.5666   0.5506   0.5227   0.5370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> adjCV        1.778   0.9597    0.822   0.5459   0.5224   0.4912   0.5014</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        7 comps  8 comps  9 comps  10 comps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CV      0.5607   0.6254   0.6578    0.7528</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> adjCV   0.5186   0.5747   0.6001    0.6875</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRAINING: % variance explained</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               1 comps  2 comps  3 comps  4 comps  5 comps  6 comps  7 comps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X               27.82    40.72    47.95    49.48    53.96    55.28    57.79</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sensory[, 1]    76.54    86.77    94.07    96.47    97.03    97.49    97.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               8 comps  9 comps  10 comps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X               65.49    67.14     68.16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sensory[, 1]    98.03    98.28     98.51</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For examples of ROSA results and plotting see </span></span></span>
<span class="r-in"><span><span class="co"># ?rosa_results and ?rosa_plots.</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kristian Hovde Liland.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

